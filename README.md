# FPGA implementation of spatial filtering circuit for 2D grayscale images using Isotropic Kernel
Progettazione, implementazione e analisi prestazionale di un filtro spaziale in tecnologia FPGA, da impiegare per la realizzazione di un sistema di elaborazione di immagini bidimensionali con dimensioni 64×64 in scala di grigi a 8 bit (valori compresi tra 0 e 255). L’FPGA scelto per l’implementazione è lo Zynq XC7Z020-1CLG400C di cui è dotata la scheda di sviluppo Pynq-Z2.
La ragione principale nella scelta della tecnologia FPGA è l’impiego congiunto tra hardware e software, ovvero, consente di abbinare le operazioni a basso livello, eseguite da un circuito custom implementato in logica programmabile (parte hardware) mediante la programmazione VHDL (tool Vivado), con le operazioni ad alto livello scritte in C/C++ ed eseguite da un processore (parte software) , in modo da massimizzare l’efficienza e le prestazioni e, garantendo, allo stesso tempo, una grande flessibilità, dando al progettista la possibilità di variare l’implementazione del circuito custom per soddisfare le esatte richieste dell’applicazione. Ciò rappresenta una piattaforma ideale per l'implementazione integrata dell'intero sistema, offrendo un rapporto costo/prestazioni tale da renderla un’ottima alternativa alla tecnologia ASIC.
Il filtraggio spaziale, riconducibile ad un’operazione di convoluzione, più in particolare ad un’operazione MAC (Multiply Accumulate), rappresenta una delle operazioni di basso livello più frequentemente utilizzate nell’ambito dell’elaborazione delle immagini, in cui il generico pixel di output viene determinato applicando una disposizione spaziale di elementi (coefficienti del filtro/kernel) su un intorno del pixel di input i cui elementi occupano la medesima posizione.  La selezione di coefficienti adeguati consente di utilizzare lo stesso circuito logico per molte delle tipiche applicazioni di filtraggio spaziale su un’immagine, come la rimozione del rumore, la nitidezza dell'immagine, la sfocatura/levigatura e l'estrazione di dettagli. Qui vengono impiegati filtri isotropici 5×5 di tipo Laplaciano e Laplaciano-Gaussiano, la cui funzione è quella di evidenziare i bordi in un’immagine. Ciò è importante, qualora si abbia la necessità di identificare degli oggetti o caratterizzare dei dettagli in una scena osservata.
Le prestazioni vengono analizzate in termini di latenza, frequenza di clock, utilizzo delle risorse e dissipazione di potenza. Inoltre, per testarne la precisione/robustezza, i risultati ottenuti dal circuito di filtraggio progettato a basso livello in VHDL vengono confrontati, attraverso delle opportune metriche, con un’implementazione dell’algoritmo di filtraggio ad alto livello tramite l’utilizzo del tool MATLAB.
